reps = 15;
N = 4:2:10;
filenamesRR = {};
filenamesPF = {};
filenamesTU = {};

filenamesRR_fulbuf = {};
filenamesPF_fulbuf = {};
filenamesTU = {};

for i=1:size(N,2)
    n = N(i);
    for rep=0:(reps - 1)                                
        filenamesRR(i, rep+1) = {strcat('../../results/TU-VID-VS-FULBUF-RR/n', int2str(n), '_rep', int2str(rep), '.sca.vid')};   
        filenamesPF(i, rep+1) = {strcat('../../results/TU-VID-VS-FULBUF-PF/n', int2str(n), '_rep', int2str(rep), '.sca.vid')};           
        filenamesTU(i, rep+1) = {strcat('../../results/TU-VID-VS-FULBUF-TU/n', int2str(n), '_rep', int2str(rep), '.sca.vid')};           
    end    
end

vidMatRR = zeros(size(N, 2), 3);
vidMatPF = zeros(size(N, 2), 3);
vidMatTU = zeros(size(N, 2), 3);
 
for i=1:size(N, 2)
    [vidMatRR(i, 1), vidMatRR(i, 2), vidMatRR(i, 3)] = getMeanVec(filenamesRR(i,:));    
    [vidMatPF(i, 1), vidMatPF(i, 2), vidMatPF(i, 3)] = getMeanVec(filenamesPF(i,:));        
    [vidMatTU(i, 1), vidMatTU(i, 2), vidMatTU(i, 3)] = getMeanVec(filenamesTU(i,:));        
end

figure;
% subplot(2,1,1);
hold on;
errorbar(N, vidMatPF(:, 1), vidMatPF(:, 2), vidMatPF(:, 3), '--v', 'LineWidth', 2);
errorbar(N, vidMatRR(:, 1), vidMatRR(:, 2), vidMatRR(:, 3), '--v', 'LineWidth', 2);
errorbar(N, vidMatTU(:, 1), vidMatTU(:, 2), vidMatTU(:, 3), '--v', 'LineWidth', 2);

ylabel('video-streamers: bytes received [B]');
xlabel('number of D2D full-buffer pairs [#]');
% xticklabels({'8', '', '12', '', '16', '', '20'});
legend({'Round Robin', 'Proportional Fair', 'Transferable Utility'}, 'Location','northeast');
set(gca,'FontSize', 26);
hold off;